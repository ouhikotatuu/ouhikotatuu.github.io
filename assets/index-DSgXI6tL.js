import{d as k,r as y,a as _,u as b,o as U,b as o,c as O,e as B,f as l,t as T,g as a,w as s,h as q,i as N,j as R,k as V,l as D,_ as K}from"./index-DHTjKAgc.js";const j={class:"login_view"},E={class:"login_content"},F={class:"iamge_box"},I=["src"],L={class:"loginButton"},M=k({__name:"index",setup(P){const t=y({username:"",password:"",captchaKey:"",captchaCode:""}),m={username:{required:!0,trigger:"blur",message:"请输入账号"},password:{required:!0,trigger:"blur",message:"请输入密码"},captchaCode:{required:!0,trigger:"blur",message:"请输入验证码"}},i=_(),f=b(),g=async()=>{var n;await((n=i.value)==null?void 0:n.validate()),await q(t).then(e=>{!e.hasOwnProperty("code")&&e&&(N(e),R.success("登录成功!"),f.replace("/info_home"))})},u=_(""),d=()=>{V().then(n=>{u.value=n.image,t.captchaKey=n.key})};return U(()=>{d()}),(n,e)=>{const v=o("UserOutlined"),p=o("a-input"),c=o("a-form-item"),h=o("UnlockOutlined"),w=o("a-input-password"),C=o("a-form"),x=o("a-button");return O(),B("div",j,[l("div",E,[e[4]||(e[4]=l("div",{class:"header"},[l("div",{class:"title"},T("数字监管系统"))],-1)),a(C,{class:"loginForm",model:t,rules:m,ref_key:"formRef",ref:i},{default:s(()=>[a(c,{name:"username"},{default:s(()=>[a(p,{class:"input",value:t.username,"onUpdate:value":e[0]||(e[0]=r=>t.username=r),placeholder:"请输入账号",allowClear:""},{prefix:s(()=>[a(v,{class:"icon"})]),_:1},8,["value"])]),_:1}),a(c,{name:"password"},{default:s(()=>[a(w,{class:"input",value:t.password,"onUpdate:value":e[1]||(e[1]=r=>t.password=r),placeholder:"请输入密码",allowClear:""},{prefix:s(()=>[a(h,{class:"icon"})]),_:1},8,["value"])]),_:1}),a(c,{name:"captchaCode"},{default:s(()=>[l("div",F,[a(p,{class:"input",value:t.captchaCode,"onUpdate:value":e[2]||(e[2]=r=>t.captchaCode=r),placeholder:"请输入验证码",allowClear:""},null,8,["value"]),l("img",{onClick:d,class:"captcha_image",src:u.value,alt:""},null,8,I)])]),_:1})]),_:1},8,["model"]),l("div",L,[a(x,{class:"button",type:"primary",onClick:g},{default:s(()=>e[3]||(e[3]=[D("登录")])),_:1})])])])}}}),z=K(M,[["__scopeId","data-v-6f0ee786"]]);export{z as default};
